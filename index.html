import React, { useState, useEffect } from 'react';
import * as Tone from 'tone'; // Import Tone.js for sounds

// Initialize Tone.js for click sounds
const clickSynth = new Tone.PolySynth(Tone.Synth, {
    oscillator: {
        type: "sine"
    },
    envelope: {
        attack: 0.005,
        decay: 0.1,
        sustain: 0.05,
        release: 0.1
    }
}).toDestination();

// Main App Component
const App = () => {
    // State to manage the currently active module
    const [activeModule, setActiveModule] = useState('welcome');
    // State to track completed modules for visual progress
    const [completedModules, setCompletedModules] = useState({});
    // State to manage quiz results
    const [quizResults, setQuizResults] = useState({});
    // State for the contact form message (kept for potential future use or if user wants to revert)
    const [contactMessage, setContactMessage] = useState('');
    // State for showing a message box (e.g., for quiz results, form submission)
    const [messageBox, setMessageBox] = useState({ visible: false, title: '', message: '' });

    // Define the structure of the modules and their content
    const modules = [
        { id: 'welcome', title: 'Bienvenida', icon: 'üëã' },
        { id: 'que-es-mentor', title: '¬øQu√© es ser un mentor CNCI?', icon: 'ü§î' },
        { id: 'perfil-estudiante', title: 'Perfil del estudiante de nuevo ingreso', icon: 'üßë‚Äçüéì' },
        { id: 'habilidades-mentor', title: 'Habilidades esenciales del mentor', icon: 'üß†' },
        { id: 'herramientas-digitales', title: 'Herramientas digitales y canales', icon: 'üíª' },
        { id: 'casos-practicos', title: 'Casos pr√°cticos y situaciones', icon: 'üìù' },
        { id: 'preguntas-frecuentes', title: 'Preguntas frecuentes', icon: '‚ùì' },
        { id: 'recursos-adicionales', title: 'Recursos adicionales', icon: 'üìö' },
        { id: 'testimonios-mentores', title: 'Testimonios de Mentores', icon: 'üó£Ô∏è' }, // Updated module
    ];

    // Quiz data for each module (simplified for demonstration)
    const quizzes = {
        'que-es-mentor': [
            { question: '¬øCu√°l es el objetivo principal de un mentor CNCI?', options: ['Asignar tareas', 'Brindar apoyo y gu√≠a', 'Evaluar el rendimiento', 'Reemplazar a los tutores'], answer: 'Brindar apoyo y gu√≠a' },
            { question: '¬øEs el rol del mentor imponer soluciones?', options: ['S√≠', 'No'], answer: 'No' },
        ],
        'habilidades-mentor': [
            { question: '¬øQu√© habilidad es crucial para entender al alumno?', options: ['Dominio t√©cnico', 'Escucha activa', 'Velocidad de respuesta', 'Memoria fotogr√°fica'], answer: 'Escucha activa' },
            { question: 'La empat√≠a significa:', options: ['Sentir l√°stima por el alumno', 'Ponerse en el lugar del alumno', 'Dar consejos sin preguntar', 'Ignorar sus problemas'], answer: 'Ponerse en el lugar del alumno' },
        ],
    };

    // Checklists for each module
    const checklists = {
        'habilidades-mentor': [
            { id: 'escucha', text: 'Practicar la escucha activa', completed: false },
            { id: 'empatia', text: 'Mostrar empat√≠a y comprensi√≥n', completed: false },
            { id: 'comunicacion', text: 'Comunicarse de forma clara y asertiva', completed: false },
            { id: 'seguimiento', text: 'Realizar seguimiento peri√≥dico', completed: false },
        ],
        'herramientas-digitales': [
            { id: 'aulas', text: 'Familiarizarse con las Aulas Virtuales', completed: false },
            { id: 'correo', text: 'Conocer el uso del correo institucional', completed: false },
            { id: 'soporte', text: 'Saber c√≥mo contactar a soporte t√©cnico', completed: false },
        ]
    };

    // State to manage checklist items
    const [currentChecklists, setCurrentChecklists] = useState(checklists);

    // Function to play a discrete click sound
    const playClickSound = () => {
        Tone.start(); // Ensure audio context is started on user interaction
        clickSynth.triggerAttackRelease("C5", "8n"); // Play a C5 note for a short duration
    };

    // Function to handle quiz submission
    const handleSubmitQuiz = (moduleId, answers) => {
        let score = 0;
        const moduleQuiz = quizzes[moduleId];
        let correctAnswersCount = 0;

        // Calculate score
        moduleQuiz.forEach((q, index) => {
            if (answers[index] === q.answer) {
                correctAnswersCount++;
            }
        });

        const totalQuestions = moduleQuiz.length;
        const percentage = (correctAnswersCount / totalQuestions) * 100;

        setQuizResults(prev => ({ ...prev, [moduleId]: percentage }));
        setCompletedModules(prev => ({ ...prev, [moduleId]: true })); // Mark module as completed

        setMessageBox({
            visible: true,
            title: 'Resultados del Quiz',
            message: `Has obtenido un ${percentage.toFixed(0)}% de respuestas correctas. ¬°Sigue as√≠!`
        });
    };

    // Function to handle checklist item toggling
    const handleChecklistItemToggle = (moduleId, itemId) => {
        setCurrentChecklists(prev => {
            const newChecklists = { ...prev };
            newChecklists[moduleId] = newChecklists[moduleId].map(item =>
                item.id === itemId ? { ...item, completed: !item.completed } : item
            );
            return newChecklists;
        });
    };

    // Function to handle contact form submission (kept for potential future use)
    const handleContactSubmit = (e) => {
        e.preventDefault();
        // In a real application, this would send data to a backend
        console.log('Mensaje de contacto enviado:', contactMessage);
        setMessageBox({
            visible: true,
            title: 'Mensaje Enviado',
            message: 'Tu mensaje ha sido recibido. Te contactaremos pronto.'
        });
        setContactMessage(''); // Clear the form
    };

    // Component for the message box
    const MessageBox = ({ title, message, onClose }) => (
        <div className="fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center z-50 p-4">
            <div className="bg-white rounded-lg shadow-xl p-6 max-w-sm w-full text-center border-t-4 border-[#2a6aff]">
                <h3 className="text-xl font-bold text-[#2a6aff] mb-4">{title}</h3>
                <p className="text-gray-700 mb-6">{message}</p>
                <button
                    onClick={onClose}
                    className="bg-[#2a6aff] hover:bg-opacity-80 text-white font-bold py-2 px-6 rounded-full transition duration-300 ease-in-out transform hover:scale-105 shadow-md"
                >
                    Cerrar
                </button>
            </div>
        </div>
    );

    // Render the content for each module
    const renderModuleContent = () => {
        switch (activeModule) {
            case 'welcome':
                return (
                    <div className="text-center p-6 bg-gradient-to-br from-blue-50 to-white rounded-lg shadow-lg animate-fade-in">
                        <h2 className="text-4xl font-extrabold text-[#2a6aff] mb-6 leading-tight">
                            ¬°Bienvenido, Alumno Mentor CNCI!
                        </h2>
                        <p className="text-lg text-gray-700 mb-8 max-w-2xl mx-auto">
                            Estamos emocionados de que formes parte de nuestro programa de mentor√≠a. Tu rol es fundamental para el √©xito y la adaptaci√≥n de nuestros estudiantes de nuevo ingreso al entorno virtual.
                        </p>
                        <div className="relative w-full max-w-xl mx-auto mb-8 bg-gray-200 rounded-lg overflow-hidden shadow-inner aspect-video flex items-center justify-center">
                            {/* Placeholder for video */}
                            <img
                                src="https://placehold.co/600x338/E0F2F7/2C3E50?text=Video+Motivacional"
                                alt="Video Motivacional"
                                className="w-full h-full object-cover"
                                onError={(e) => { e.target.onerror = null; e.target.src="https://placehold.co/600x338/E0F2F7/2C3E50?text=Video+Motivacional"; }}
                            />
                            <div className="absolute inset-0 flex items-center justify-center bg-black bg-opacity-30">
                                <span className="text-white text-2xl font-semibold">Video Motivacional del Equipo de Tutor√≠as</span>
                            </div>
                        </div>
                        <p className="text-md text-gray-600">
                            Prep√°rate para ser una gu√≠a, un apoyo y una inspiraci√≥n. ¬°Tu impacto ser√° inmenso!
                        </p>
                    </div>
                );
            case 'que-es-mentor':
                return (
                    <div className="p-6 bg-white rounded-lg shadow-lg animate-fade-in">
                        <h2 className="text-3xl font-bold text-[#2a6aff] mb-6">¬øQu√© es ser un mentor CNCI?</h2>
                        <p className="text-gray-700 mb-4">
                            Ser un mentor en la Universidad Virtual CNCI significa ser un compa√±ero experimentado que gu√≠a, apoya y facilita la adaptaci√≥n de los estudiantes de nuevo ingreso al modelo educativo en l√≠nea. No eres un tutor acad√©mico, sino un facilitador y un modelo a seguir.
                        </p>
                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">Tu Rol Principal:</h3>
                        <ul className="list-disc list-inside text-gray-700 mb-6 space-y-2">
                            <li>Ofrecer orientaci√≥n sobre el funcionamiento de la plataforma virtual.</li>
                            <li>Compartir estrategias de estudio y organizaci√≥n personal.</li>
                            <li>Fomentar la participaci√≥n y la autonom√≠a del nuevo estudiante.</li>
                            <li>Ser un punto de contacto inicial para dudas generales.</li>
                            <li>Promover un ambiente de confianza y compa√±erismo.</li>
                        </ul>
                        <div className="bg-blue-50 border-l-4 border-[#2a6aff] text-[#2a6aff] p-4 mb-6 rounded-md">
                            <p className="font-semibold">¬°Importante!</p>
                            <p>No eres responsable de la calificaci√≥n acad√©mica del alumno ni de resolver problemas t√©cnicos complejos. Para eso, existen los canales institucionales.</p>
                        </div>

                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">Minievaluaci√≥n:</h3>
                        <Quiz moduleId="que-es-mentor" questions={quizzes['que-es-mentor']} onSubmit={handleSubmitQuiz} />
                        {quizResults['que-es-mentor'] !== undefined && (
                            <p className="mt-4 text-green-700 font-semibold">
                                Tu resultado: {quizResults['que-es-mentor'].toFixed(0)}%
                            </p>
                        )}
                    </div>
                );
            case 'perfil-estudiante':
                return (
                    <div className="p-6 bg-white rounded-lg shadow-lg animate-fade-in">
                        <h2 className="text-3xl font-bold text-[#2a6aff] mb-6">Perfil del estudiante de nuevo ingreso</h2>
                        <p className="text-gray-700 mb-4">
                            Los estudiantes de nuevo ingreso pueden enfrentar diversos desaf√≠os al adaptarse a la modalidad virtual. Comprender su perfil te ayudar√° a brindar un apoyo m√°s efectivo.
                        </p>
                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">Caracter√≠sticas Comunes:</h3>
                        <ul className="list-disc list-inside text-gray-700 mb-6 space-y-2">
                            <li>Desorientaci√≥n inicial con la plataforma y herramientas.</li>
                            <li>Dificultad para gestionar su tiempo y organizar el estudio aut√≥nomo.</li>
                            <li>Sentimiento de aislamiento o falta de conexi√≥n.</li>
                            <li>Incertidumbre sobre las expectativas acad√©micas.</li>
                            <li>Necesidad de motivaci√≥n y refuerzo positivo.</li>
                        </ul>
                        <div className="relative w-full max-w-lg mx-auto mb-8 bg-gray-100 rounded-lg overflow-hidden shadow-inner aspect-video flex items-center justify-center">
                            {/* Placeholder for Infographic */}
                            <img
                                src="https://placehold.co/600x338/E0F2F7/2C3E50?text=Infograf√≠a+Perfil+Alumno"
                                alt="Infograf√≠a Perfil Alumno"
                                className="w-full h-full object-cover"
                                onError={(e) => { e.target.onerror = null; e.target.src="https://placehold.co/600x338/E0F2F7/2C3E50?text=Infograf√≠a+Perfil+Alumno"; }}
                            />
                            <div className="absolute inset-0 flex items-center justify-center bg-black bg-opacity-30">
                                <span className="text-white text-2xl font-semibold">Infograf√≠a: Perfil del Alumno de Nuevo Ingreso</span>
                            </div>
                        </div>
                        <p className="text-md text-gray-600">
                            Recuerda que cada estudiante es √∫nico, pero estas son tendencias generales. S√© paciente y adaptable.
                        </p>
                    </div>
                );
            case 'habilidades-mentor':
                return (
                    <div className="p-6 bg-white rounded-lg shadow-lg animate-fade-in">
                        <h2 className="text-3xl font-bold text-[#2a6aff] mb-6">Habilidades esenciales del mentor</h2>
                        <p className="text-gray-700 mb-4">
                            Para ser un mentor efectivo, es fundamental desarrollar y aplicar ciertas habilidades interpersonales:
                        </p>
                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">1. Escucha Activa:</h3>
                        <p className="text-gray-700 mb-4">
                            Presta atenci√≥n plena a lo que el estudiante dice (y lo que no dice). Haz preguntas abiertas y evita interrumpir.
                        </p>
                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">2. Empat√≠a:</h3>
                        <p className="text-gray-700 mb-4">
                            Ponte en el lugar del otro. Intenta comprender sus sentimientos y perspectivas, incluso si no las compartes.
                        </p>
                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">3. Comunicaci√≥n Asertiva:</h3>
                        <p className="text-gray-700 mb-4">
                            Expr√©sate de forma clara, directa y respetuosa. Ofrece retroalimentaci√≥n constructiva.
                        </p>
                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">4. Seguimiento:</h3>
                        <p className="text-gray-700 mb-6">
                            Mant√©n contacto peri√≥dico con tus alumnos. Pregunta c√≥mo van, si necesitan algo, y celebra sus avances.
                        </p>

                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">Checklist de Habilidades:</h3>
                        <div className="bg-blue-50 p-4 rounded-lg shadow-inner">
                            {currentChecklists['habilidades-mentor'].map(item => (
                                <div key={item.id} className="flex items-center mb-2">
                                    <input
                                        type="checkbox"
                                        id={`checklist-${item.id}`}
                                        checked={item.completed}
                                        onChange={() => handleChecklistItemToggle('habilidades-mentor', item.id)}
                                        className="form-checkbox h-5 w-5 text-[#2a6aff] rounded focus:ring-[#2a6aff]"
                                    />
                                    <label htmlFor={`checklist-${item.id}`} className={`ml-3 text-lg ${item.completed ? 'line-through text-gray-500' : 'text-gray-800'}`}>
                                        {item.text}
                                    </label>
                                </div>
                            ))}
                        </div>

                        <h3 className="text-2xl font-semibold text-[#2a6aff] mt-6 mb-3">Minievaluaci√≥n:</h3>
                        <Quiz moduleId="habilidades-mentor" questions={quizzes['habilidades-mentor']} onSubmit={handleSubmitQuiz} />
                        {quizResults['habilidades-mentor'] !== undefined && (
                            <p className="mt-4 text-green-700 font-semibold">
                                Tu resultado: {quizResults['habilidades-mentor'].toFixed(0)}%
                            </p>
                        )}
                    </div>
                );
            case 'herramientas-digitales':
                return (
                    <div className="p-6 bg-white rounded-lg shadow-lg animate-fade-in">
                        <h2 className="text-3xl font-bold text-[#2a6aff] mb-6">Herramientas digitales y canales de contacto institucional</h2>
                        <p className="text-gray-700 mb-4">
                            Familiar√≠zate con las herramientas que tus alumnos usar√°n y los canales a los que puedes referirlos.
                        </p>
                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">Plataformas Clave:</h3>
                        <ul className="list-disc list-inside text-gray-700 mb-6 space-y-2">
                            <li>
                                <span className="font-semibold">Aulas Virtuales:</span> Donde se encuentran los materiales, actividades y foros de cada curso.
                            </li>
                            <li>
                                <span className="font-semibold">Correo Institucional:</span> Medio oficial de comunicaci√≥n con docentes y administraci√≥n.
                            </li>
                            <li>
                                <span className="font-semibold">Plataforma de Soporte T√©cnico:</span> Para incidencias con acceso, funcionamiento de la plataforma, etc.
                            </li>
                        </ul>
                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">Canales de Contacto:</h3>
                        <ul className="list-disc list-inside text-gray-700 mb-6 space-y-2">
                            <li>
                                <span className="font-semibold">Tutor Acad√©mico:</span> Para dudas espec√≠ficas de contenido o calificaciones.
                            </li>
                            <li>
                                <span className="font-semibold">Coordinaci√≥n de Mentor√≠as:</span> Para dudas sobre tu rol de mentor o situaciones complejas.
                            </li>
                            <li>
                                <span className="font-semibold">Departamento de Servicios Escolares:</span> Para tr√°mites administrativos.
                            </li>
                        </ul>

                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">Checklist de Herramientas:</h3>
                        <div className="bg-blue-50 p-4 rounded-lg shadow-inner">
                            {currentChecklists['herramientas-digitales'].map(item => (
                                <div key={item.id} className="flex items-center mb-2">
                                    <input
                                        type="checkbox"
                                        id={`checklist-${item.id}`}
                                        checked={item.completed}
                                        onChange={() => handleChecklistItemToggle('herramientas-digitales', item.id)}
                                        className="form-checkbox h-5 w-5 text-[#2a6aff] rounded focus:ring-[#2a6aff]"
                                    />
                                    <label htmlFor={`checklist-${item.id}`} className={`ml-3 text-lg ${item.completed ? 'line-through text-gray-500' : 'text-gray-800'}`}>
                                        {item.text}
                                    </label>
                                </div>
                            ))}
                        </div>
                    </div>
                );
            case 'casos-practicos':
                return (
                    <div className="p-6 bg-white rounded-lg shadow-lg animate-fade-in">
                        <h2 className="text-3xl font-bold text-[#2a6aff] mb-6">Casos pr√°cticos y situaciones comunes</h2>
                        <p className="text-gray-700 mb-4">
                            Aqu√≠ te presentamos algunos escenarios que podr√≠as enfrentar como mentor y c√≥mo abordarlos:
                        </p>
                        <div className="mb-6 border border-gray-200 rounded-lg overflow-hidden shadow-sm">
                            <div className="bg-gray-100 p-4 font-semibold text-[#2a6aff]">Caso 1: Dificultad T√©cnica</div>
                            <div className="p-4 text-gray-700">
                                <p className="font-semibold mb-2">Situaci√≥n:</p>
                                <p>Un alumno te contacta porque no puede acceder a un recurso en el aula virtual.</p>
                                <p className="font-semibold mt-3 mb-2">Recomendaci√≥n:</p>
                                <p>Escucha activamente el problema. Preg√∫ntale qu√© ha intentado. Si es un problema t√©cnico claro, redir√≠gelo al soporte t√©cnico de CNCI, explic√°ndole c√≥mo contactarlos.</p>
                            </div>
                        </div>
                        <div className="mb-6 border border-gray-200 rounded-lg overflow-hidden shadow-sm">
                            <div className="bg-gray-100 p-4 font-semibold text-[#2a6aff]">Caso 2: Desmotivaci√≥n</div>
                            <div className="p-4 text-gray-700">
                                <p className="font-semibold mb-2">Situaci√≥n:</p>
                                <p>Un alumno expresa sentirse abrumado o desmotivado con la carga acad√©mica.</p>
                                <p className="font-semibold mt-3 mb-2">Recomendaci√≥n:</p>
                                <p>Muestra empat√≠a. Comparte tus propias experiencias de superaci√≥n (si aplica). Ay√∫dale a desglosar las tareas en pasos m√°s peque√±os. Recu√©rdale sus metas y los recursos de apoyo disponibles.</p>
                            </div>
                        </div>
                        <div className="mb-6 border border-gray-200 rounded-lg overflow-hidden shadow-sm">
                            <div className="bg-gray-100 p-4 font-semibold text-[#2a6aff]">Caso 3: Pregunta Acad√©mica Espec√≠fica</div>
                            <div className="p-4 text-gray-700">
                                <p className="font-semibold mb-2">Situaci√≥n:</p>
                                <p>Un alumno te pregunta sobre un concepto espec√≠fico de una materia o c√≥mo resolver un ejercicio.</p>
                                <p className="font-semibold mt-3 mb-2">Recomendaci√≥n:</p>
                                <p>Recu√©rdale que tu rol no es el de tutor acad√©mico. Ori√©ntalo a contactar a su tutor de la materia a trav√©s del correo institucional o los foros del aula virtual.</p>
                            </div>
                        </div>
                        <p className="text-md text-gray-600">
                            Estos son solo ejemplos. Usa tu juicio y no dudes en contactar a la coordinaci√≥n de mentor√≠as si enfrentas una situaci√≥n que te parezca compleja.
                        </p>
                    </div>
                );
            case 'preguntas-frecuentes':
                return (
                    <div className="p-6 bg-white rounded-lg shadow-lg animate-fade-in">
                        <h2 className="text-3xl font-bold text-[#2a6aff] mb-6">Preguntas frecuentes</h2>
                        <div className="space-y-4">
                            <details className="group border border-gray-200 rounded-lg p-4 cursor-pointer hover:bg-blue-50 transition duration-200 ease-in-out">
                                <summary className="flex justify-between items-center font-semibold text-[#2a6aff] text-lg">
                                    ¬øCu√°nto tiempo debo dedicar a la mentor√≠a?
                                    <span className="transform group-open:rotate-180 transition-transform duration-200">‚ñº</span>
                                </summary>
                                <p className="mt-2 text-gray-700">
                                    El tiempo es flexible, pero se sugiere un contacto inicial y luego seguimientos peri√≥dicos (ej. semanal o quincenal) seg√∫n la necesidad del alumno. Lo importante es la calidad del apoyo.
                                </p>
                            </details>
                            <details className="group border border-gray-200 rounded-lg p-4 cursor-pointer hover:bg-blue-50 transition duration-200 ease-in-out">
                                <summary className="flex justify-between items-center font-semibold text-[#2a6aff] text-lg">
                                    ¬øQu√© hago si un alumno no responde?
                                    <span className="transform group-open:rotate-180 transition-transform duration-200">‚ñº</span>
                                </summary>
                                <p className="mt-2 text-gray-700">
                                    Intenta un par de veces m√°s con diferentes medios (si tienes). Si sigue sin responder, informa a la coordinaci√≥n de mentor√≠as. No te lo tomes personal.
                                </p>
                            </details>
                            <details className="group border border-gray-200 rounded-lg p-4 cursor-pointer hover:bg-blue-50 transition duration-200 ease-in-out">
                                <summary className="flex justify-between items-center font-semibold text-[#2a6aff] text-lg">
                                    ¬øPuedo reunirme en persona con mi alumno?
                                    <span className="transform group-open:rotate-180 transition-transform duration-200">‚ñº</span>
                                </summary>
                                <p className="mt-2 text-gray-700">
                                    La mentor√≠a es virtual. Se desaconsejan las reuniones presenciales por seguridad y para mantener la naturaleza del programa.
                                </p>
                            </details>
                            <details className="group border border-gray-200 rounded-lg p-4 cursor-pointer hover:bg-blue-50 transition duration-200 ease-in-out">
                                <summary className="flex justify-between items-center font-semibold text-[#2a6aff] text-lg">
                                    ¬øRecibir√© capacitaci√≥n adicional?
                                    <span className="transform group-open:rotate-180 transition-transform duration-200">‚ñº</span>
                                </summary>
                                <p className="mt-2 text-gray-700">
                                    S√≠, la coordinaci√≥n de mentor√≠as ofrecer√° sesiones de capacitaci√≥n y talleres peri√≥dicos para fortalecer tus habilidades.
                                </p>
                            </details>
                        </div>
                    </div>
                );
            case 'recursos-adicionales':
                return (
                    <div className="p-6 bg-white rounded-lg shadow-lg animate-fade-in">
                        <h2 className="text-3xl font-bold text-[#2a6aff] mb-6">Recursos adicionales</h2>
                        <p className="text-gray-700 mb-4">
                            Aqu√≠ encontrar√°s herramientas y enlaces √∫tiles para tu labor como mentor:
                        </p>
                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">Plantillas Descargables:</h3>
                        <ul className="list-disc list-inside text-gray-700 mb-6 space-y-2">
                            <li>
                                <a href="https://example.com/plantilla_seguimiento.pdf" download="Plantilla_Seguimiento_Mentor.pdf" className="text-[#2a6aff] hover:underline font-medium">
                                    Plantilla de Seguimiento de Alumnos (PDF)
                                </a>
                            </li>
                            <li>
                                <a href="https://example.com/guia_primer_contacto.docx" download="Guia_Primer_Contacto.docx" className="text-[#2a6aff] hover:underline font-medium">
                                    Gu√≠a para el Primer Contacto (Word)
                                </a>
                            </li>
                        </ul>
                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">Calendario Sugerido de Contacto:</h3>
                        <p className="text-gray-700 mb-4">
                            Este es un ejemplo de c√≥mo podr√≠as organizar tus contactos. Ad√°ptalo a tus alumnos:
                        </p>
                        <div className="bg-blue-50 p-4 rounded-lg shadow-inner mb-6">
                            <ul className="list-disc list-inside text-gray-700 space-y-1">
                                <li><span className="font-semibold">Semana 1:</span> Primer contacto y bienvenida.</li>
                                <li><span className="font-semibold">Semana 2-3:</span> Seguimiento sobre adaptaci√≥n a la plataforma.</li>
                                <li><span className="font-semibold">Mes 1:</span> Revisi√≥n de progreso general y resoluci√≥n de dudas iniciales.</li>
                                <li><span className="font-semibold">Mensual:</span> Contacto de seguimiento y motivaci√≥n.</li>
                            </ul>
                        </div>
                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-3">Enlaces a Plataformas CNCI:</h3>
                        <ul className="list-disc list-inside text-gray-700 space-y-2">
                            <li>
                                <a href="https://cnci.blackboard.com/" target="_blank" rel="noopener noreferrer" className="text-[#2a6aff] hover:underline font-medium">
                                    Aulas Virtuales CNCI
                                </a>
                            </li>
                            <li>
                                <a href="https://outlook.office.com/" target="_blank" rel="noopener noreferrer" className="text-[#2a6aff] hover:underline font-medium">
                                    Correo Institucional CNCI (Outlook)
                                </a>
                            </li>
                            <li>
                                <a href="https://soporte.cnci.edu.mx/" target="_blank" rel="noopener noreferrer" className="text-[#2a6aff] hover:underline font-medium">
                                    Soporte T√©cnico CNCI
                                </a>
                            </li>
                        </ul>
                    </div>
                );
            case 'testimonios-mentores':
                return (
                    <div className="p-6 bg-white rounded-lg shadow-lg animate-fade-in">
                        <h2 className="text-3xl font-bold text-[#2a6aff] mb-6">Testimonios y Videos de Mentores</h2>
                        <p className="text-gray-700 mb-6">
                            Escucha las experiencias y consejos de otros alumnos mentores que han participado en el programa. Sus historias te inspirar√°n y te dar√°n una perspectiva valiosa.
                        </p>

                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-4">Videos de Experiencias:</h3>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                            {/* Video Testimonio 1 */}
                            <div className="bg-gray-100 rounded-lg overflow-hidden shadow-md aspect-video flex items-center justify-center">
                                {/* Placeholder for video embed - removed dark overlay */}
                                <img
                                    src="https://placehold.co/400x225/E0F2F7/2C3E50?text=Video+Testimonio+1"
                                    alt="Video Testimonio 1"
                                    className="w-full h-full object-cover"
                                    onError={(e) => { e.target.onerror = null; e.target.src="https://placehold.co/400x225/E0F2F7/2C3E50?text=Video+Testimonio+1"; }}
                                />
                            </div>
                            {/* Video Testimonio 2 */}
                            <div className="bg-gray-100 rounded-lg overflow-hidden shadow-md aspect-video flex items-center justify-center">
                                {/* Placeholder for video embed - removed dark overlay */}
                                <img
                                    src="https://placehold.co/400x225/E0F2F7/2C3E50?text=Video+Testimonio+2"
                                    alt="Video Testimonio 2"
                                    className="w-full h-full object-cover"
                                    onError={(e) => { e.target.onerror = null; e.target.src="https://placehold.co/400x225/E0F2F7/2C3E50?text=Video+Testimonio+2"; }}
                                />
                            </div>
                        </div>

                        <h3 className="text-2xl font-semibold text-[#2a6aff] mb-4">Testimonios Escritos:</h3>
                        <div className="space-y-6">
                            <div className="bg-blue-50 p-5 rounded-lg shadow-inner border-l-4 border-[#2a6aff]">
                                <p className="italic text-gray-800 mb-2">
                                    "Ser mentor ha sido una de las experiencias m√°s gratificantes de mi carrera universitaria. Ver c√≥mo los nuevos estudiantes superan sus miedos iniciales gracias a un poco de orientaci√≥n, es incre√≠ble."
                                </p>
                                <p className="text-right font-semibold text-[#2a6aff]">- Sof√≠a G., Mentor desde 2022</p>
                            </div>
                            <div className="bg-blue-50 p-5 rounded-lg shadow-inner border-l-4 border-[#2a6aff]">
                                <p className="italic text-gray-800 mb-2">
                                    "Al principio no sab√≠a qu√© esperar, pero el programa me dio las herramientas. Ahora me siento m√°s conectado con la comunidad CNCI y he desarrollado habilidades de comunicaci√≥n que me servir√°n para siempre."
                                </p>
                                <p className="text-right font-semibold text-[#2a6aff]">- Carlos M., Mentor desde 2023</p>
                            </div>
                        </div>
                    </div>
                );
            default:
                return <div className="p-6 text-gray-700 animate-fade-in">Contenido no encontrado.</div>;
        }
    };

    return (
        <div className="min-h-screen bg-gray-100 font-inter flex flex-col lg:flex-row">
            {/* Tailwind CSS CDN */}
            <script src="https://cdn.tailwindcss.com"></script>
            {/* Font Inter */}
            <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />

            {/* Custom CSS for fade-in animation */}
            <style>
                {`
                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in {
                    animation: fadeIn 0.5s ease-out forwards;
                }
                `}
            </style>

            {/* Sidebar Navigation */}
            <aside className="w-full lg:w-64 bg-[#2a6aff] text-white shadow-lg lg:min-h-screen p-4 flex flex-col">
                <div className="text-center mb-8 mt-4">
                    {/* Logo Section */}
                    <img
                        src="logo.png" // Assumes logo.png is in the same directory as index.html
                        alt="Logo Universidad Virtual CNCI"
                        className="h-16 mx-auto mb-4 rounded-lg shadow-md"
                        onError={(e) => { e.target.onerror = null; e.target.src="https://placehold.co/64x64/FFFFFF/000000?text=LOGO"; }} // Fallback image
                    />
                    <h1 className="text-2xl font-extrabold text-white">
                        Gu√≠a Mentor <span className="text-[#ff8500]">CNCI</span>
                    </h1>
                </div>
                <nav className="flex-grow">
                    <ul className="space-y-2">
                        {modules.map(module => (
                            <li key={module.id}>
                                <button
                                    onClick={() => {
                                        setActiveModule(module.id);
                                        playClickSound(); // Play sound on click
                                    }}
                                    className={`flex items-center w-full text-left py-2 px-4 rounded-lg transition-all duration-300 ease-in-out
                                        ${activeModule === module.id
                                            ? 'bg-[rgba(42,106,255,0.8)] text-white font-bold shadow-md transform scale-105'
                                            : 'hover:bg-[rgba(42,106,255,0.9)] text-white hover:translate-x-1'
                                        }
                                        ${completedModules[module.id] ? 'border-r-4 border-green-400' : ''}
                                    `}
                                >
                                    <span className="mr-3 text-xl">{module.icon}</span>
                                    {module.title}
                                </button>
                            </li>
                        ))}
                    </ul>
                </nav>
                <div className="mt-8 text-center text-gray-200 text-sm">
                    ¬© 2024 Universidad Virtual CNCI
                </div>
            </aside>

            {/* Main Content Area */}
            <main className="flex-1 p-6 lg:p-8 overflow-y-auto">
                <div className="max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6">
                    {renderModuleContent()}
                </div>
            </main>

            {/* Message Box */}
            {messageBox.visible && (
                <MessageBox
                    title={messageBox.title}
                    message={messageBox.message}
                    onClose={() => setMessageBox({ ...messageBox, visible: false })}
                />
            )}
        </div>
    );
};

// Quiz Component
const Quiz = ({ moduleId, questions, onSubmit }) => {
    const [answers, setAnswers] = useState(Array(questions.length).fill(null));
    const [submitted, setSubmitted] = useState(false);

    const handleOptionChange = (qIndex, option) => {
        const newAnswers = [...answers];
        newAnswers[qIndex] = option;
        setAnswers(newAnswers);
    };

    const handleSubmit = (e) => {
        e.preventDefault();
        setSubmitted(true);
        onSubmit(moduleId, answers);
    };

    return (
        <form onSubmit={handleSubmit} className="mt-4 p-4 bg-blue-50 rounded-lg shadow-inner">
            {questions.map((q, qIndex) => (
                <div key={qIndex} className="mb-6 p-4 border border-blue-200 rounded-md bg-white shadow-sm">
                    <p className="font-semibold text-gray-800 mb-3 text-lg">{qIndex + 1}. {q.question}</p>
                    <div className="space-y-2">
                        {q.options.map((option, oIndex) => (
                            <label key={oIndex} className="flex items-center text-gray-700 cursor-pointer">
                                <input
                                    type="radio"
                                    name={`question-${qIndex}`}
                                    value={option}
                                    checked={answers[qIndex] === option}
                                    onChange={() => handleOptionChange(qIndex, option)}
                                    className="form-radio h-4 w-4 text-[#2a6aff] focus:ring-[#2a6aff]"
                                    disabled={submitted}
                                />
                                <span className="ml-2 text-base">
                                    {option}
                                    {submitted && answers[qIndex] === option && answers[qIndex] === q.answer && (
                                        <span className="ml-2 text-green-600 font-bold">‚úì Correcta</span>
                                    )}
                                    {submitted && answers[qIndex] === option && answers[qIndex] !== q.answer && (
                                        <span className="ml-2 text-red-600 font-bold">‚úó Incorrecta</span>
                                    )}
                                    {submitted && answers[qIndex] !== option && q.answer === option && (
                                        <span className="ml-2 text-green-600 font-bold">(Correcta: {q.answer})</span>
                                    )}
                                </span>
                            </label>
                        ))}
                    </div>
                </div>
            ))}
            {!submitted && (
                <button
                    type="submit"
                    className="bg-[#2a6aff] hover:bg-opacity-80 text-white font-bold py-2 px-6 rounded-full transition duration-300 ease-in-out transform hover:scale-105 shadow-md mt-4"
                >
                    Enviar Respuestas
                </button>
            )}
            {submitted && (
                <p className="text-gray-600 mt-4 text-center">Quiz completado. Puedes revisar tus respuestas.</p>
            )}
        </form>
    );
};

// Export the main App component
export default App;
